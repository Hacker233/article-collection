# 前言

JavaScript 异步编程可以说是一大核心知识。我们都知道 JavaScript 是一个单线程语言，单线程机制有什么好处和坏处非常的明显，这里就不多说。异步编程思想的出现，让 JS 这个单线程语言又增添了一丝色彩。

异步 JS 带来了非常多的好处，但是如果你没有真正的掌握，那可能就会遇到一些奇奇怪怪的问题，比如我们今天要说的异步遍历的问题。

**问题背景：**

我们通常使用 for 循环或者 forEach 进行遍历操作，在遍历过程中通常都是做一些同步操作。但是有一些情况是需要在遍历的时候做一些异步操作，比如遍历发送请求，遍历执行 SQL 语句等等这些异步操作，这种情况就有一些问题出现！

今天就来学习以下 JS 异步遍历。

# 1.经典面试题

有一道非常经典的面试题，虽然它重点考察的是闭包的问题，但是它和 JS 的异步有着不可分割的关系。

**问题：**

请问下列代码的打印结果？

**示例代码：**

```javascript
<script>
  for (var i = 0; i < 5; i++) {
    setTimeout(() => {
      console.info(i)
    }, 1000);
  }
</script>
```
输出结果：
![图片](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKgAAAA5CAYAAACicWBSAAADlklEQVR4Ae3Bb0jcdQDH8fd9/fk7lZbTk92WcOMut3EMVie6B7bKogKZg9iCtXoYETQY9SQf1YP2MIieRIyghyMfZMJcTwYqEQSdeDQYLnHKDsQd+PPPFtP72bhmbKT551y/39gX7vN6RUr3sUZ29CrtR5oQsYFBxGIGEYs5bMa/gYgNHDZT9yIiNjCIWMwgYjGHkE2NTZKfyDNX8PCLPqvcqEtjPEaiJUEynUJkpxxCsjA7z8hwFq/g8V9+0edWfoZb+RluXJugrbOd3U0NiJRjCMHC7DxD/YN4BY9yvILHUP8gC7PziJRjCMHIcBa/6LNTftFnZDiLSDmGgKbGJvEKHo/KK3hMjU0ish2HgPITeTZ49Tin00+z1sp0jr7+66yVn8iTTKfYYPQKzSdmWavn0hnOtSIVxiGguYLH5nwKv/zA8O9saa7gsaXu/eQudLAHqWSGgPyiz//lF31EtuMQkBt18Ys+G7nEj53h9DHuu83k15fJsp4bddnSwE0yzTf5R/d+chc62INUGoeAGuMxbuVnWGfwMr2DPHCUrrPPknrnKNmLv7FWYzzGplpfZ3qaBwr8+MEgma/qmf7oMFJZDAElWhJs7zZLRaDuKQ6xXqIlQXlxXuiqQSqTIaBkOkUsHmNLzz1DYxS4+yd/8K9YPEYynaK8a3x/dpmelw4jlcchBG2d7Qz1D+IXfVYdevMUzze7PLQynaO3/zoPuVGXts52tjR6heYTszzUc+kM51qRChQp3cca2dGrtLce4VEtzM4zMpzFK3hsJxaP0dbZzu6mBkTKcQjJ7qYGXnvrDabGJslP5JkrePhFn1Vu1KUxHiPRkiCZTiGyUw4hS6ZTJNMpRMJgELGYQcRiDptYXFxExAYOm6ivr0fEBgYRixlELGYQsZjhCYpEIohsxyBiMUNA4zP3GMitIPI4OAT07VCRn8f+YlV3phqRMBkC+uxkLQf2VnG+b4neX31EwmQIaFdNhG/eq+PA3iq+/GmZ831LiITFEIJdNRG+eLeWVQO5FQZyK4iEwRCCO8slPrm4xKrjmWq6M9WIhMEhoDvLJT787i7jM/f4uKuGtztcRMLiENDnfUuMz9zj05O1dGeqEQmTQ0DvvxLl5XQ13ZlqRMLmENDBfVUc3FeFyONgELGYQcRiBhGLGZ6gUqmEyHYMIhYziFjMIGIxg4jFDCIWM4hYzCBiMYOIxQwiFjOIWMwgYrG/AWVEBPjG8tH7AAAAAElFTkSuQmCC)


上段代码中，我们正常的理解应该是输出 0、1、2、3、4。但是结果却是输出了 5 个 5。这儿有很大部分原因就是因为 setTimeout 是异步的原因。我们每次 for 循环虽然执行了 setTimeout，但是它里面的函数没有执行，知道 for 循环完毕，才会执行里面的函数，此时的 i 已经变为了 5。

# 2.进入正题

上一节我们举例了一个比较经典的面试题，目的就是为了让大家先简单理解一下异步。接下来我们模拟实际项目中很容易出现的情况，或者说面试中非常容易被问到的问题。

**问题背景：**

有一个存放了很多异步操作的数组，你如何将它们依次执行和返回结果？

**示例代码：**

```javascript
<script>
  // 模拟异步操作，实际可能为发送请求等等
  function createPromise(time, value) {
    return new Promise((resolve) => {
      setTimeout(() => {
        resolve(value);
      }, time);
    })
  }
  let asyncArray = [createPromise(3000, "函数 1"), createPromise(1000, "函数 2"), createPromise(5000, "函数 3")]; // 定义异步函数数组
  // 里面执行异步操作
  async function asyncTest() {
    console.time();
    console.info("start");

    // 执行异步函数数组
    // 请编写你的代码

    console.info("end");
    console.timeEnd();
  }
  asyncTest();
</script>
```
上段代码中 createPromise 函数简单模拟了一个异步操作，然后我们声明了一个 asyncArray 数组，里面存放的是很多异步操作函数，每个函数返回的都是 promise 对象。asyncTest 函数用来执行我们数组里面的异步函数。
看到上面那道题目，应该还是有很多人比较熟悉，但是有些小伙伴如果对异步还不了解，或者对 promise 或者 async/await 不熟悉的话，那么可能有点无从下手，不知道面试官想问什么？

**解题思路：**

* 循环数组，分别执行函数
* 返回 promise，那可以使用 async/await
* 依次返回结果则需要我们串行执行，可以利用 async/await 解决
通过上面的思路，我们有多种解决方案，一起来实现一下。

# 3.forEach 循环？

这是很多初学者最容易想到得到一种办法，这道题看似很简单，无非就是循环数组，执行函数嘛！那我们一起来看看结果是什么？

**示例代码：**

```javascript
<script>
  // 模拟异步操作，实际可能为发送请求等等
  function createPromise(time, value) {
    return new Promise((resolve) => {
      setTimeout(() => {
        resolve(value);
      }, time);
    })
  }
  let asyncArray = [createPromise(3000, "函数 1"), createPromise(1000, "函数 2"), createPromise(5000, "函数 3")]; // 定义异步函数数组
  // 里面执行异步操作
  async function asyncTest() {
    console.time();
    console.info("start");

    // 执行异步函数数组

    // forEach
    asyncArray.forEach(async (item) => {
      const res = await item;
      console.info("执行的函数是：",res);
    });

    console.info("end");
    console.timeEnd();
  }
  asyncTest();
</script>
```
上段代码好像乍一看没有什么问题！利用循环，依次执行异步函数，然后利用 await 阻塞，达到串行目的。我们一起来看看打印结果。
**输出结果：**

![图片](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASMAAACkCAYAAADc4kj5AAAZxElEQVR4Ae3BMWydh7XY8b9u2LRbJ6IaHPSeo3syPxl6QqFmoIIHO/D2aosaujxRogYhs0toF8nn2fAgQsKbComU2y2IgyDmEAiFRJPoUhQ+0jkGnEKs7hJtadOXr/pMf9Y1TVGXtije2Of3O3bvk//eUEopR+xY8xSllHLEepRSygToUUopE6BHKaVMgB6llDIBepRSygToUUopE6BHKaVMgB5HaotFnef2Ni/XxjIyt8aQUspfix6llDIBjjVPcYg2l423r/OlGZbvrnD+OGwuG29fZ5eLfBgLvA4M78xz+t11Omffu8vNd6b5wsYy8ts3+ZBZ3r7OF+ZXnauntljUWVbY5fIquXCSUsoEaw7To9XmwoXV5nHzPJvNNbnU3HrUvMBmc02Wmk+aL91favoyaK7db3bcX2r6F1abx82X7i81/QurzeOmlPLXYorDdHzAYH2W0/oblu+ucP4449tYRmZv8MwMJ7bh9ePsmFlk/hQ7Ti2QNyml/BXrcahOcjWcjEW4aogaixuMYYvF2RvMrzoZTsYq85RSvs96vBLTnL/p3HtvhgefDXnmNU7MrPPwD3zd9gMeMMOJ1/jC8M4HrHAAr53g7PpDPqeU8teix2HaWEbUEDVEjdO/eoN/fGeaZ6Y5f+UiK7OGqCG6zCZPHT/HLy+vs3DGEDVOP3iD5RnGd/wcv7x8g7fVEDVkeYtSymQ71jxFKaUcsR6llDIBepRSygToUUopE6BHKaVMgB6llDIBpp48eUIppRy1Y81TlFLKEetRSikToEcppUyAHqWUMgF6lFLKBOhRSikToEcppUyAHn8VtljUeW5vU0r5nupRSikToEcppUyAHodseGceUUPUEF1mky9trzE3t8btZUPUEDUWNxixxaIaooboLCuUUr7PehymjWVOP7hChpPh5Cq8vbzFV9avssAqGU6uXmTlgzWGtLZY1FlYdTKcjFXmKaV8n01xiDZ/ewOu30Cu88zMCYacZJrWRT5cOMkXXjvB2fWHfA5Mb3zEyswi905RSvmBmOKQza86V09RSin76nGIfjKYYWV2mU0O6LUTnF3/Db/b5qkht+dmWaGU8n3W4xBNv7PCh5dv8LYaooaoMXdnyAsdP8c/vgcLZwzRMzy8cpflGUop32PHmqcopZQj1qOUUiZAj1JKmQA9SillAvQopZQJ0KOUUibA1JMnTyillKN2rHmKUko5Yj1KKWUC9CillAnQo5RSJkCPUkqZAD1KKWUC9HiFhnfmkeUtDmJz2RA1RA1Z3uK7GXJ7zhA1ROe5vU0pZUL0mGQby7z96SL3wslwcuEk38005286GavMs5cht+eMxQ1eru015tQQNUTnub3NeDaWETVEDVFDlrf4ysYyooaoIWqIGosbPLO9xpwaooboPLe3GbHFohqihqixuMGILRbVEDVEjbk7Q3YMuT1niBqihqghasjcGkOeGd6ZR9QQNWR5ix1Dbs8ZooaoIWrI3BpDRm2xqIaoITrP7W2+srlsiBqihixv8cwWi2qIGqKGqCHLW5S/Us0r9HjtUtNf2mzG9XjtUtNf2mxevs3mmlxqbj1qdnnc3LowaK7db16izeaaXGpuPWp2PFptLshS80lzUJvNNbnU3HrU7Li/1PQvrDaPm71sNtfkUnPrUbPj0WpzQZaaT5rW4+bWhUFz7X7zpc3mmlxqbj1qnnrc3LowaC6sPW52PG5uXRg01+43e3q8dqnpL202nU+WBk3/wmrzuNntcXPrwqC5dr/Z26PV5oIMmmv3m2+6v9T0lzabHZvNNRk01+43X9psrsml5tajpnwP9DhkwzvziBqixul31/ma7TXm1BA1RI3FDb4wvDOPqHH63XW4PouoITrP7W12bK8xp4aoIWrI3BpDdgzvzCPLW3SGd+aR5S1eZHhnHtEzLKzDyqwhaojOc3ubEVssqiHLW4xreOcDVi5f4fxxvjD8/W/4mBv8eoOD2X7AA05gx3mh4Z0PWLl8hfPH+cLw97/hY27w6w1g4wYLLDJ/ih0bH7HCOh/9fgj8gYfrF/nlO9PsmObnb83w4LMh37TFyruw/A8n2bHFr69f5MOb55jmYIa//w28d5erp/imUwvkwkl2nOQXl+HBZ0O+k+015ubWuL1siM5ze2ONOTVkbo0hOzaXDVFD1BCd5/Y25ZD1OETDO/Oc/tUb3Asnw7n33gzPbLF45iG/DCfDyViF2WU2gel3Vshw7r03A5dXyXAyVjh/nB3Hz3EznAwnw/nwp1dZ2eA7mX5nhYy7LM/A/KqT4WSscP4438nnD9Y5O3iN1uaycfrBFT68DA8+GzKOzWVD1JAzVxmsLvA6I9avcloNUUPm1hiy4/MH65wdvEZrc9k4/eAKH16GB58NGX72EH46YBoY3plHPjjBh+/N8PGDPwCvcWLmBr/e4EtbrLy7zscP/sBuwzsfsHL5CuePs2PjI1ZmTuDLhqghaszdGTJqZdYQNUSNxQ2+NOR3v1pnwDpzaogaostsspctfn19hjd/Ns0z6yycMUQN0XlubzOe9at8NLjLh5fXWZh9yC/vLnJ2/SGf89T2Gu9/usi9cDKcjBXOH6ccsh6HZsjvfrXO/JVzTLOHjY9Y4QZvqyFqiM6ywkN8mzFssaiGqCFqvH0dHnw25PCd5Go4uXCSg/kDt+eM9wd3yYWTHMTrC06Gk7EKs8biBjtOLZDhZDgZd1nmKqeXt3jmD9yeM94f3CUXTrLb5rJx+sEV8uY5fkJnmvOLizyYNUQN0Y848d4MZwev8XVbrLwLy/9wkq9Zv8rDv3MynIxVBu9e5fY2T01z/qaT4WQ4uXqRldl5bm/zlZVfwT+Gk+Hce+8hby9v8XVDbs/N8uC9Rc4f50snuRpOhpPh3HsPFs4ss8k4LvLLd6ZpnX3vIq8z4viAwfpVTus8t7cpr0iPo3R5lQwnw8lwMlY4f5wX2lyeZeXyKhlOhvPhZSbWTwYzfPzuLA+vODffmQaG+Kcw6E9zMCeZf2+GB58N+aZpfv7WDJ2fDGb4+N1ZHl5xbr4zDQzxT2HQn2a6fwKuz/L+4C65cJLW5w/WOTt4jS8cP8fNcDKcjAXswTqD/jSjNpdnWbl8hfPH+bqZReZP8aXXODGzzsM/8E2n3mSer5u/co5pdkz3T8CnDxjSGXJ77gwfvXWXm+9M8zzTP3uDs7wMJ7kaTsYiXDVEjcUNyiHrcWimsZ/Cym+3+MLGMqffXecrr53g7PVZFjc4oCH+KZwdvMYXttd4/zpf9+kDhjy1vcZ/ened8U1jP4UHnw3Z2xaLasjyFuOa/tkbnOUivzjFjo0bLKxf5BeneGZjGVFj7s6Q59ti5d11Bv1pvmmLlXfXmf+7k7Smf/YGZ7nIL06xY+MGC+sX+cUp4NSbzDPDmz+b5gvba7x/fYY3fzbNbsM787z96SLzp3hme433r8+w/A8n+ZpTbzK//ht+t82O7XU+Wr/IL07xDcM7H7Ay8wY/P85T0/z8rRlWfrtFZ/O3Nzj71gzTtLZY1DN89NZdbr4zzX42/+kqH19+k9d5WaY5f9O5994MDz4bUg5Zc6g2m2syaPoyaPoXVpvH95ea/tJm85X7S01fBk1fBk1fBk3/wmrzuHnm8dqlpr+02XzD/aWmL4OmL4OmL0vNrbVLzYW1x82OzeaaDJq+DJq+LDWf3F9q+kubzY7N5poMmr4Mmr4Mmr4Mmr5cam49ap55tNpckEHTl0HTl0vNrUfNiM3mmgya/tJmcyD3l5q+DJq+DJq+LDWfNLvcX2r6MmgurD1uRn2yNGj6Mmj6Mmj6cqm59ah55v5S05dB05dB05dBc+1+83X3l5q+DJq+DJq+LDWfNCMerTYXZND0ZdD05VJz61Hzlcdrl5q+DJq+DJr+0maz2ydLg6a/tNns6f5S05dB05dB05dLza1HzZceN7cuDJq+DJq+DJr+hdXmcTPqcXPrwqDpy6Dpy6DpL202ncdrl5q+DJq+DJq+DJq+DJq+LDWfNK3N5poMmr4Mmr4Mmv7SZjOWR6vNBVlqPmma5pOlQXNh7XHTPFptLshS80nz1P2lpi+Dpi+Dpi+Dpn9htXnclMN2rHmKUko5Yj1KKWUC9CillAnQo5RSJkCPUkqZAD1KKWUCTD158oRSSjlqx5qnKKWUI9ajlFImQI9SSpkAPUopZQL0KKWUCTDFKyBqZDgdUSPDGZeokeEchKiR4YwSNTKc5xE19pPh7EfUyHA6okaGsx9R43kynFdF1NhPhrMfUSPD6YgaGU4p45piwokaGU5L1Ngtw9lN1MhwDirD2YuokeE8j6iR4XREjQxnXBnObqLGq5Th7EXUyHCeR9TIcDqiRoZTykFNMcFEjQynk+G8iKjREjU6GU5H1OhkOB1RI8PZTdTIcDqiRoYzKsMZleEchKhxlESNDGc3USPD6YgaGc6oDGdUhlPKtzHFIRM1WqJGhiNqtESNToazm6iR4bREjQxnXBlOR9RoiRoZTkfU2IuokeG0RI0MpyVqZDi7iRqjRI1WhtMSNToZzl4ynN1EjVdN1MhwWqJGhtMSNTKc3USNUaJGK8NpiRqdDOcrG8vI7A12XOTDWOB1yg/dFIcswxE1MpxWhiNqZDgtUWMvGU5L1MhwRI3nyXD2I2pkOOPIcESNDKcjamQ4e8lwWqJGK8NpiRoZTkvUyHCeR9Q4KFGjleG8LBmOqJHhdESNDGcvGU5L1GhlOC1RI8NpiRoZzjNbLM7Ch+G8DmwuG28vv0kunKT8sE0xwUSNToYzStTIcMaR4bREjQznRTKcURnOfkSNDEfUEDUynAxH1Mhw9pPhTJIMZ1SGsx9RI8MRNUSNDCfDETUynG86ydU4Sef1v7sIHzxgyEmmKT9kU7wiokaGI2qMQ9TIcESNgxI19pLhiBoZzn5EjQynI2pkOHsRNTKcToYjamQ4+xE1xpXh7JbhHAZRI8PpiBoZzl5EjQynk+GIGhnOuDZ/e4Ozb91lmvJDN8UhEzVaGU4rwxE1XiTD+bYynI6ocRCiRoYzKsMRNTKc3TKclqiR4bQynBfJcHYTNTKcoyJqZDijMhxRI8PZLcNpiRoZTivDGdfwzjxvf7rIvYVpSpnikGU4okZH1MhwRI0M51XLcPaT4ewlw9mLqNERNVoZzrhEjQynI2qMynD2Imq0MpyXJcPZS4azF1GjI2q0MpxxDO/Mc/pXb3Dv5jmmKQV6TAhRY5KIGuPIcFoZToYzKsMRNTKccWU4GU6Gk+EcBVFjHBlOK8PJcEZlOKJGhrPb5rJx+ldvcO/mOaYpZccUr5CokeG0MpxWhiNqvEyixneV4YwrwxE1WhlOR9TIcESNDGc3USPDETUynIPIcA5LhjOuDEfUaGU4HVEjwxE1MpyvbK/x/nWeusppvUpnftW5eoryA3aseYpDJGp0MpznETUynN1EjQynI2p0MpzdRI0MpyNqZDgdUaOV4YwSNcaV4XREjVaG0xI1MhxRI8PpiBoZTkfUyHA6osbzZDiHSdQYV4bTETVaGU5L1MhwRI0MpyNqZDil7OdY8xSllHLEepRSygToUUopE6BHKaVMgB6llDIBpp48eUIppRy1Y81TlFLKEetRSikToEcppUyAHqWUMgGmeAVEjQynI2pkOOMSNTKcgxA1MpxRokaG8zyixn4ynP2IGhlOR9TIcPYjajxPhvOqiBr7yXD2I2pkOB1RI8MpZVxTTDhRI8NpiRq7ZTi7iRoZzkFlOHsRNTKc5xE1MpyOqJHhjCvD2U3UeJUynL2IGhnO84gaGU5H1MhwSjmoKSaYqJHhdDKcFxE1WqJGJ8PpiBqdDKcjamQ4u4kaGU5H1MhwRmU4ozKcgxA1jpKokeHsJmpkOB1RI8MZleGMynBK+TamOGSiRkvUyHBEjZao0clwdhM1MpyWqJHhjCvD6YgaLVEjw+mIGnsRNTKclqiR4bREjQxnN1FjlKjRynBaokYnw9lLhrObqPGqiRoZTkvUyHBaokaGs5uoMUrUaGU4LVGjk+E8s8WizrICzK86V09RClMcsgxH1MhwWhmOqJHhtESNvWQ4LVEjwxE1nifD2Y+okeGMI8MRNTKcjqiR4ewlw2mJGq0MpyVqZDgtUSPDeR5R46BEjVaG87JkOKJGhtMRNTKcvWQ4LVGjleG0RI0MpyVqZDhf2V5j7sxvePPuKvNnZimlM8UEEzU6Gc4oUSPDGUeG0xI1MpwXyXBGZTj7ETUyHFFD1MhwMhxRI8PZT4YzSTKcURnOfkSNDEfUEDUynAxH1MhwvuH4OW7GOWCLRUp5ZopXRNTIcESNcYgaGY6ocVCixl4yHFEjw9mPqJHhdESNDGcvokaG08lwRI0MZz+ixrgynN0ynMMgamQ4HVEjw9mLqJHhdDIcUSPDKeWgpjhkokYrw2llOKLGi2Q431aG0xE1DkLUyHBGZTiiRoazW4bTEjUynFaG8yIZzm6iRoZzVESNDGdUhiNqZDi7ZTgtUSPDaWU4pXwbUxyyDEfU6IgaGY6okeG8ahnOfjKcvWQ4exE1OqJGK8MZl6iR4XREjVEZzl5EjVaG87JkOHvJcPYianREjVaGU8q30WNCiBqTRNQYR4bTynAynFEZjqiR4Ywrw8lwMpwM5yiIGuPIcFoZToYzKsMRNTKcUsYxxSskamQ4rQynleGIGi+TqPFdZTjjynBEjVaG0xE1MhxRI8PZTdTIcESNDOcgMpzDkuGMK8MRNVoZTkfUyHBEjQznmS0WdZYVvjRrrDDD8t0Vzh+n/IAda57iEIkanQzneUSNDGc3USPD6YganQxnN1Ejw+mIGhlOR9RoZTijRI1xZTgdUaOV4bREjQxH1MhwOqJGhtMRNTKcjqjxPBnOYRI1xpXhdESNVobTEjUyHFEjw+mIGhlOKfs51jxFKaUcsR6llDIBepRSygToUUopE6BHKaVMgKknT55QSilH7VjzFKWUcsR6lFLKBOhRSikToEcppUyAHqWUMgGmeAVEjQynI2pkOOMSNTKcgxA1MpxRokaG8zyixn4ynP2IGhlOR9TIcPYjajxPhvOqiBr7yXD2I2pkOB1RI8MpZVxTTDhRI8NpiRq7ZTi7iRoZzkFlOHsRNTKc5xE1MpyOqJHhjCvD2U3UeJUynL2IGhnO84gaGU5H1MhwSjmoKSaYqJHhdDKcFxE1WqJGJ8PpiBqdDKcjamQ4u4kaGU5H1MhwRmU4ozKcgxA1jpKokeHsJmpkOB1RI8MZleGMynBK+TamOGSiRkvUyHBEjZao0clwdhM1MpyWqJHhjCvD6YgaLVEjw+mIGnsRNTKclqiR4bREjQxnN1FjlKjRynBaokYnw9lLhrObqPGqiRoZTkvUyHBaokaGs5uoMUrUaGU4LVGjk+HsGHJ77gwL63xphuW7K5w/TvmBm+KQZTiiRobTynBEjQynJWrsJcNpiRoZjqjxPBnOfkSNDGccGY6okeF0RI0MZy8ZTkvUaGU4LVEjw2mJGhnO84gaByVqtDKclyXDETUynI6okeHsJcNpiRqtDKclamQ4LVEjw3lmmvM3nfPsGN6Z5/Q/bXF+4STlh22KCSZqdDKcUaJGhjOODKclamQ4L5LhjMpw9iNqZDiihqiR4WQ4okaGs58MZ5JkOKMynP2IGhmOqCFqZDgZjqiR4bzI5w/WOTtYpJQpXhFRI8MRNcYhamQ4osZBiRp7yXBEjQxnP6JGhtMRNTKcvYgaGU4nwxE1Mpz9iBrjynB2y3AOg6iR4XREjQxnL6JGhtPJcESNDGdf22vMnbnKxzw1s8i9hWlKmeKQiRqtDKeV4YgaL5LhfFsZTkfUOAhRI8MZleGIGhnObhlOS9TIcFoZzotkOLuJGhnOURE1MpxRGY6okeHsluG0RI0Mp5XhvNDxc9yMc7SGd+Y5PQf3bp5jmvJD1uOQZTijRI0MR9Q4ChnOfjKcvWQ4exE1RI2WqCFqHISoMUrUEDVEDVHjeUQNUeNlynD2kuHsRdQQNVqihqhxUNPvXGF+/SGfU37oekwIUWOSiBrjyHBaGU6GMyrDETUynHFlOBlOhpPhHAVRYxwZTivDyXBGZTiiRoazn+GdD1iZOcFPKD90U7xCokaG08pwWhmOqPEyiRrfVYYzrgxH1GhlOB1RI8MRNTKc3USNDEfUyHAOIsM5LBnOuDIcUaOV4XREjQxH1MhwvrK9xtyZq3zMly6vkjdPUsqx5ikOkajRyXCeR9TIcHYTNTKcjqjRyXB2EzUynI6okeF0RI1WhjNK1BhXhtMRNVoZTkvUyHBEjQynI2pkOB1RI8PpiBrPk+EcJlFjXBlOR9RoZTgtUSPDETUynI6okeGUsp9jzVOUUsoR61FKKROgRymlTIAepZQyAaaePHlCKaUctWPNU5RSyhHrUUopE6BHKaVMgB6llDIBepRSygToUUopE6DHPh798S9sffbPlFLKYZtiHx//jz/zP//XX4Afc7L/I0op5bD02Md/+Nt/yb/518f4r/f/L//N/x+llHJYjjVPsY8//RlufPwn/veThpP9H/H3f/tjSinlZevxAv/qX8B//Pc/prX12T+z9dk/U0opL1uPF/jTn+E/3/0zrb/5tz/iZP9HlFLKyzbFPv70Z7i5/n/Y/uNfeOtvfsy/sx9RSimHYYp9/Jf7/4ftP/6Fv//bH3Oy/yNKKeWwHGue4jke/fEvbP+x4WT/R5RSymE61jxFKaUcsR6llDIBepRSygToUUopE6BHKaVMgB6llDIBepRSygToUUopE6BHKaVMgB6llDIBepRSygToUUopE6BHKaVMgP8PuaZLTF7RFB4AAAAASUVORK5CYII=)


结果似乎和我们想的不太一样啊！它似乎是以同步的逻辑执行的，先执行了 console，在执行的异步函数。

造成这种结果的原因很简单，因为 forEach 循环根本没有处理异步操作，它根本不支持异步写法。佛 forEach 的原理很简单，它就是简单的执行了一下我们传入的回调函数，并不会去处理异步情况。

**注意：这是很多初学者容易范的错误，一定要注意！出了 forEach 外，类似于 map 等直接传入回调函数的循环方式都无法处理异步。**

# **4.for...of**

既然 forEach 循环不行，那我们就换一种能行的循环。for...of 循环可以处理异步操作。

**示例代码：**

```javascript
for (const item of asyncArray) {
  const res = await item;
  console.info("执行的函数是：",res);
}
```
**输出结果：**
![图片](data:image/png;base64,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)


上段代码就满足我们的要求了，依次输出了 1、2、3，即使每个异步函数的处理时间不一样，但是由于使用了 await 阻塞，所以返回的结果也是按照顺序来的。

到这里看起来 for...of 用来遍历异步数组是没有问题的，但是，真实情况是 for...of 还是存在问题，修改一下我们的代码。

修改代码如下：

```javascript
for (const item of asyncArray) {
  // const res = await item;
  console.info("执行的函数是：",await item.then((res) => {
    console.info(res)
  }));
}
```
输出结果：
![图片](data:image/png;base64,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)


上段代码中，我们在 then 里面做了一些其它操作，且没有返回值，那么我们的输出就会有问题，所以说我们 for..of 的方法还是不太完美。

# 5.for...await...of

for...await...of 是 ES2018 的新特性，它可以针对异步集合进行操作，它的使用方法基本上和 for..of 一致，只不过多了一个 await 关键词。

**示例代码：**

```javascript
for await (const item of asyncArray) {
  console.info("执行的函数是：",item);
}
```
**输出结果：**
![图片](data:image/png;base64,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)


上面的输出结果是想要的，而且我们在循环内部没有使用 await 关键词，它不仅可以暂停循环，还允许你做任何操作。

# 6.Promise.all

上面使用 for...of 的方式处理异步的时候是串行方式，也就是说上一个执行完后在执行下一个。假如有这么一个场景，用户上传很多张图片，我们需要图片并行上传。如果串行上传的话，那用户等待的时间将会大大增长，这是不科学的。

使用 Promise.all 就可以让我们的异步函数并行执行。

**示例代码：**

```javascript
console.info(await Promise.all(asyncArray))
```
**输出结果：**
![图片](data:image/png;base64,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)


如果你运行了上段代码，你会发现控制台是一起返回了三个结果，而使用 for...of 的时候，控制台是依次打印出的结果。

# 总结

本篇文章我们重点讲的是如何遍历和处理异步数组，主要介绍了 for...await..of 的方式。大家需要理解串行和并行的概念，当然，本篇文章主要以串行为主，并行的话只介绍了 promise.all。

最主要的是大家要掌握 for...await...of 的用法。

